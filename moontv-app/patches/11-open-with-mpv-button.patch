diff --git a/src/components/MPVPlayButton.tsx b/src/components/MPVPlayButton.tsx
new file mode 100644
index 0000000..65af205
--- /dev/null
+++ b/src/components/MPVPlayButton.tsx
@@ -0,0 +1,365 @@
+/* eslint-disable no-console */
+/* Copyright (c) 2025 shmilee */
+
+'use client';
+
+import { useCallback, useEffect, useRef, useState } from 'react';
+
+import { filterDiscontinuityAdJump, generateM3u8TempKey } from '@/lib/m3u8.register';
+import { SearchResult } from '@/lib/types';
+
+interface ArtPlayerInstance {
+  pause: () => void;
+  currentTime: number;
+  paused: boolean;
+  // ä»…åˆ—å‡ºéœ€è¦çš„å±æ€§å’Œæ–¹æ³•
+}
+
+interface MPVPlayButtonProps {
+  videoUrl: string;
+  videoTitle: string;
+  videoDoubanId: number;
+  detail: SearchResult | null;
+  currentEpisodeIndex: number;
+  artPlayerRef: React.MutableRefObject<ArtPlayerInstance | null>;
+}
+
+// å·¥å…·å‡½æ•°ï¼šå®‰å…¨ base64 ç¼–ç 
+const safeU8Base64 = (str: string): string => {
+  const b64 = btoa(unescape(encodeURIComponent(str)));
+  return b64.replace(/\//g, "_").replace(/\+/g, "-").replaceAll("=", "");
+};
+
+// å·¥å…·å‡½æ•°ï¼šæ£€æµ‹æ˜¯å¦ä¸ºç§»åŠ¨è®¾å¤‡
+const isMobileDevice = (): boolean => {
+  if (typeof navigator === 'undefined') return false;
+  return /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
+};
+
+// å·¥å…·å‡½æ•°ï¼šå»å¹¿å‘Š
+export const M3U8DiscontinuityAdsTool = () => {
+  const statusRef = useRef<'on'|'off'>('on');
+  useEffect(() => {
+    if (typeof window !== 'undefined') {
+      // è¯»å– m3u8Filter: 'true', 'false', null
+      const savedM3u8Filter = localStorage.getItem('m3u8Filter');
+      if (savedM3u8Filter && !JSON.parse(savedM3u8Filter)) {
+        statusRef.current = 'off';
+      }
+    }
+  }, []); // ç©ºä¾èµ–æ•°ç»„è¡¨ç¤ºåªåœ¨æŒ‚è½½æ—¶æ‰§è¡Œ
+
+  const filterAds = (m3u8Content: string): string => {
+    const discontinuity1stIdx = m3u8Content.indexOf('#EXT-X-DISCONTINUITY');
+    if (discontinuity1stIdx === -1) {
+      console.log('M3U8: ğŸ’«No #EXT-X-DISCONTINUITY tag.');
+      return m3u8Content;
+    }
+    const lines = m3u8Content.split('\n').map(line => line.trim()).filter(Boolean);  // è¿‡æ»¤ç©ºè¡Œ
+    console.log('M3U8: ğŸš€Aggressive filter (DISCONTINUITY + ads)');
+    const filterStartTime = Date.now();
+    const filteredLines = filterDiscontinuityAdJump(lines);
+    const duration = Date.now() - filterStartTime;
+    console.log(`M3U8: âœ…Filtered ${lines.length - filteredLines.length}/${lines.length} lines in ${duration}ms`);
+    return filteredLines.join('\n');
+  };
+
+  return { statusRef, filterAds };
+};
+
+// å¼¹å¹• URL åœ°å€ API å“åº”ç±»å‹
+interface DanmakuUrlsResponse {
+  total: number;
+  platforms: string[];
+  xmlurls: string[];
+}
+
+// ç¼“å­˜æ¥å£
+interface CacheEntry {
+  data: DanmakuUrlsResponse | null;
+  timestamp: number;
+  loading: boolean;
+}
+
+// å¼¹å¹• URL åœ°å€ API ç¼“å­˜ï¼ˆå†…å­˜ç¼“å­˜ï¼‰
+const danmakuUrlsCache = new Map<string, CacheEntry>();
+
+// è·å–ç¼“å­˜é”®
+const getCacheKey = (doubanId: number, title: string, episode: number): string => {
+  return `${doubanId}-${title}-${episode}`;
+};
+
+export default function MPVPlayButton({
+  videoUrl,
+  videoTitle,
+  videoDoubanId,
+  detail,
+  currentEpisodeIndex,
+  artPlayerRef
+}: MPVPlayButtonProps) {
+  const [isMobile, setIsMobile] = useState(false);
+  const [filteredVideoUrl, setFilteredVideoUrl] = useState<string>(''); // è¿‡æ»¤åçš„è§†é¢‘åœ°å€
+  const [m3u8Filter, setM3u8Filter] = useState('on'); // on(default), off
+  const [danmakuUrlsStatus, setDanmakuUrlsStatus] = useState<'idle' | 'loading' | 'ready' | 'error'>('idle');
+
+  // ä½¿ç”¨ ref å­˜å‚¨å½“å‰ç¼“å­˜é”®ï¼Œé¿å…é‡å¤è¯·æ±‚
+  const currentCacheKeyRef = useRef<string>('');
+
+  // æ£€æµ‹è®¾å¤‡ç±»å‹
+  useEffect(() => {
+    setIsMobile(isMobileDevice());
+  }, []);
+
+  // åœ¨ç»„ä»¶æŒ‚è½½æ—¶ä» localStorage è¯»å– m3u8Filter: 'true', 'false', null
+  useEffect(() => {
+    const savedM3u8Filter = localStorage.getItem('m3u8Filter');
+    if (savedM3u8Filter && !JSON.parse(savedM3u8Filter)) {
+      setM3u8Filter('off');
+    }
+  }, []); // ç©ºä¾èµ–æ•°ç»„è¡¨ç¤ºåªåœ¨æŒ‚è½½æ—¶æ‰§è¡Œ
+
+  // è¿‡æ»¤ M3U8 åœ°å€ - ä½¿ç”¨ä¸´æ—¶è®¤è¯çš„ key
+  const filterM3U8Url = useCallback(async (url: string): Promise<string> => {
+    // å¦‚æœä¸æ˜¯ m3u8 åœ°å€ï¼Œç›´æ¥è¿”å›åŸåœ°å€
+    if (!url.endsWith('.m3u8')) {
+      console.warn('[MPV] é M3U8 åœ°å€ï¼Œä½¿ç”¨åŸå§‹åœ°å€');
+      return url;
+    }
+
+    try {
+      console.log('[MPV] å¼€å§‹æ³¨å†Œè¿‡æ»¤ M3U8 åœ°å€:', url);
+      // ç”Ÿæˆä¸´æ—¶ key
+      const urlKey = generateM3u8TempKey(url);
+
+      // å‘é€ POST è¯·æ±‚æ³¨å†Œ key
+      const response = await fetch('/api/m3u8-register', {
+        method: 'POST',
+        headers: {
+          'Content-Type': 'application/json',
+        },
+        body: JSON.stringify({
+          key: urlKey,
+          original_url: url
+        })
+      });
+
+      if (response.ok) {
+        const result = await response.json();
+        if (result.success) {
+          // æ„å»ºæ–°çš„è¿‡æ»¤åœ°å€
+          // é€šè¿‡ middleware åŒ¹é…: api/registerï¼Œmpv è·³è¿‡è®¤è¯
+          const filteredUrl = `${window.location.origin}/api/registered.m3u8?key=${urlKey}&filter=${m3u8Filter}`;
+          console.log('[MPV] M3U8 è¿‡æ»¤æ³¨å†ŒæˆåŠŸï¼Œä½¿ç”¨è¿‡æ»¤ååœ°å€:', filteredUrl);
+          return filteredUrl;
+        } else {
+          console.warn('[MPV] M3U8 è¿‡æ»¤æ³¨å†Œå¤±è´¥ï¼Œä½¿ç”¨åŸå§‹åœ°å€');
+          return url;
+        }
+      } else {
+        console.warn('[MPV] M3U8 è¿‡æ»¤æ³¨å†Œè¯·æ±‚å¤±è´¥ï¼Œä½¿ç”¨åŸå§‹åœ°å€');
+        return url;
+      }
+    } catch (error) {
+      console.error('[MPV] M3U8 è¿‡æ»¤æ³¨å†Œé”™è¯¯:', error);
+      return url;
+    }
+  }, [m3u8Filter]);
+
+  // å¤„ç†è§†é¢‘åœ°å€è¿‡æ»¤
+  useEffect(() => {
+    const processVideoUrl = async () => {
+      if (!videoUrl) {
+        setFilteredVideoUrl('');
+        return;
+      }
+      console.log('[MPV] åŸå§‹è§†é¢‘åœ°å€ï¼š', videoUrl);
+      const filteredUrl = await filterM3U8Url(videoUrl);
+      setFilteredVideoUrl(filteredUrl);
+      console.log('[MPV] æœ€ç»ˆè§†é¢‘åœ°å€ï¼š', filteredUrl);
+    };
+    processVideoUrl();
+  }, [videoUrl, filterM3U8Url]);
+
+  // é¢„å…ˆåŠ è½½å¼¹å¹• URL åœ°å€
+  useEffect(() => {
+    if (isMobile || (!videoDoubanId && !videoTitle)) return;
+
+    const cacheKey = getCacheKey(videoDoubanId, videoTitle, currentEpisodeIndex + 1);
+    currentCacheKeyRef.current = cacheKey;
+
+    // æ£€æŸ¥ç¼“å­˜
+    const cachedEntry = danmakuUrlsCache.get(cacheKey);
+    if (cachedEntry) {
+      setDanmakuUrlsStatus(cachedEntry.data ? 'ready' : 'error');
+      return; // ä½¿ç”¨æœ‰æ•ˆç¼“å­˜
+    }
+
+    // æ ‡è®°ä¸ºå¼¹å¹• URL åŠ è½½ä¸­
+    setDanmakuUrlsStatus('loading');
+    danmakuUrlsCache.set(cacheKey, { data: null, timestamp: Date.now(), loading: true });
+
+    const preloadDanmakuUrls = async () => {
+      try {
+        const params = new URLSearchParams();
+        if (videoDoubanId > 0) {
+          params.append('douban_id', videoDoubanId.toString());
+        }
+        if (videoTitle) {
+          params.append('title', videoTitle);
+        }
+        if (currentEpisodeIndex > 0) {
+          params.append('episode', (currentEpisodeIndex + 1).toString());
+        }
+        params.append('timeout', '10');
+
+        console.log('[MPV] é¢„åŠ è½½å¼¹å¹• URL è¯·æ±‚å‚æ•°:', params.toString());
+        const response = await fetch(`/api/danmaku-xmlurl?${params.toString()}`, {
+          headers: { 'Content-Type': 'application/json' },
+        });
+
+        if (response.ok) {
+          const urlsData = await response.json();
+          if (urlsData && urlsData.total > 0) {
+            // æ›´æ–°ç¼“å­˜
+            danmakuUrlsCache.set(cacheKey, {
+              data: urlsData,
+              timestamp: Date.now(),
+              loading: false
+            });
+            setDanmakuUrlsStatus('ready');
+            console.log('[MPV] å¼¹å¹• URL åœ°å€é¢„åŠ è½½å®Œæˆ');
+          } else {
+            // å³ä½¿æ²¡æœ‰æ•°æ®ä¹Ÿç¼“å­˜ç»“æœï¼Œé¿å…é‡å¤è¯·æ±‚
+            danmakuUrlsCache.set(cacheKey, {
+              data: null,
+              timestamp: Date.now(),
+              loading: false
+            });
+            setDanmakuUrlsStatus('error');
+            console.log('[MPV] å¼¹å¹• URL åœ°å€ä¸ºç©º');
+          }
+        } else {
+          const errorText = await response.text();
+          console.error('[MPV] å¼¹å¹• URL åœ°å€é¢„åŠ è½½å¤±è´¥:', response.status, errorText);
+          danmakuUrlsCache.set(cacheKey, {
+            data: null,
+            timestamp: Date.now(),
+            loading: false
+          });
+          setDanmakuUrlsStatus('error');
+        }
+      } catch (error) {
+        console.error('[MPV] å¼¹å¹• URL åœ°å€é¢„åŠ è½½å¼‚å¸¸:', error);
+        danmakuUrlsCache.set(cacheKey, {
+          data: null,
+          timestamp: Date.now(),
+          loading: false
+        });
+        setDanmakuUrlsStatus('error');
+      }
+    };
+
+    preloadDanmakuUrls();
+  }, [videoDoubanId, videoTitle, currentEpisodeIndex, isMobile]);
+
+  // å·¥å…·å‡½æ•°ï¼šç”Ÿæˆ MPV æ’­æ”¾åœ°å€ï¼ˆåŒæ­¥å‡½æ•°ï¼Œä½¿ç”¨é¢„åŠ è½½çš„å¼¹å¹• URL åœ°å€ï¼‰
+  const generateMPVUrl = (currentTime?: number): string => {
+    const finalVideoUrl = filteredVideoUrl || videoUrl;
+    console.log('[MPV] è§†é¢‘åœ°å€ï¼š', finalVideoUrl);
+    const v_title = (detail?.episodes?.length || 0) > 1
+      ? `${videoTitle || 'å½±ç‰‡æ ‡é¢˜'} - ${detail?.episodes_titles?.[currentEpisodeIndex] || `ç¬¬${currentEpisodeIndex + 1}é›†`}`
+      : `${videoTitle || 'å½±ç‰‡æ ‡é¢˜'}`;
+    console.log('[MPV] è§†é¢‘æ ‡é¢˜ï¼š', v_title);
+    let mpvurl = `mpv://play/${safeU8Base64(finalVideoUrl)}/?v_title=${safeU8Base64(v_title)}`;
+
+    // ä½¿ç”¨é¢„åŠ è½½çš„å¼¹å¹• URL åœ°å€
+    const cacheKey = currentCacheKeyRef.current;
+    const cachedEntry = danmakuUrlsCache.get(cacheKey);
+    if (cachedEntry && cachedEntry.data && cachedEntry.data.total > 0) {
+      console.log('[MPV] ä½¿ç”¨é¢„åŠ è½½çš„å¼¹å¹• URL åœ°å€');
+      const urlsData = cachedEntry.data;
+      // platforms, xmlurls
+      for (let i = 0; i < urlsData.total; i++) {
+        const danmurl = urlsData.xmlurls[i];
+        const platform = urlsData.platforms[i];
+        console.log(`[MPV] æ·»åŠ  ${platform} å¼¹å¹•åœ°å€ï¼š`, danmurl);
+        mpvurl += `&danmaku_xmlurl=${safeU8Base64(danmurl)}`;
+      }
+    } else {
+      console.log('[MPV] æ— å¼¹å¹• URL åœ°å€å¯ç”¨');
+    }
+
+    // æ·»åŠ å¼€å§‹æ—¶é—´ï¼Œè‹¥æ’­æ”¾æ—¶é—´å¤§äº5ç§’
+    if (currentTime && currentTime > 5) {
+      mpvurl += `&startat=${Math.floor(currentTime) - 1}`;
+    }
+
+    console.log('[MPV] æ’­æ”¾åœ°å€ï¼š', mpvurl);
+    return mpvurl;
+  };
+
+  // å¦‚æœæ²¡æœ‰è§†é¢‘åœ°å€æˆ–æ˜¯ç§»åŠ¨è®¾å¤‡ï¼Œä¸æ¸²æŸ“æŒ‰é’®
+  if (!videoUrl || isMobile) {
+    return null;
+  }
+
+  const handleMPVPlay = () => {
+    const currentPlayTime = artPlayerRef.current?.currentTime || 0;
+    const finalMpvUrl = generateMPVUrl(currentPlayTime);
+
+    // æš‚åœæ’­æ”¾å™¨
+    if (artPlayerRef.current && !artPlayerRef.current.paused) {
+      artPlayerRef.current.pause();
+    }
+
+    // æ‰“å¼€ MPV æ’­æ”¾çª—å£
+    //  "_blank": æ–°çª—å£ã€‚artPlayer ä»…æš‚åœã€‚
+    //  "_self": é¡µé¢å¸è½½æ—¶, handleBeforeUnload, artPlayer èµ„æºä¼šè¢«æ¸…ç†ï¼Œæ¯”ä»…æš‚åœæ›´çœèµ„æºã€‚(NOT-TODO) å¯æ·»åŠ çŠ¶æ€åˆ¤æ–­ï¼Œé˜»æ­¢æ¸…ç†ã€‚
+    //  "open-with-mpv": specified æ–°çª—å£ï¼Œé¿å…å¤šä¸ª blank çª—å£ã€‚
+    const targetName = "open-with-mpv";
+    const targetTitle = `${document.title} | MPV`;
+    const mpvWindow = window.open(finalMpvUrl, targetName);
+
+    if (mpvWindow && mpvWindow.document) {
+      mpvWindow.document.title = targetTitle;
+    }
+  };
+
+  // æ ¹æ® filteredVideoUrlæ˜¾ç¤ºä¸åŒçš„æŒ‰é’® title
+  const getButtonTitle = () => {
+    if (filteredVideoUrl !== videoUrl) {
+      //return `${videoUrl}&#013;&#010; -> ${filteredVideoUrl}`; // HOWTO &#?
+      return `${videoUrl}
+-> ${filteredVideoUrl}`;
+    } else {
+      return videoUrl;
+    }
+  };
+
+  // æ ¹æ®å¼¹å¹• URL åœ°å€é¢„åŠ è½½çŠ¶æ€æ˜¾ç¤ºä¸åŒçš„æŒ‰é’®æ–‡æœ¬
+  const getButtonText = () => {
+    switch (danmakuUrlsStatus) {
+      case 'loading':
+        return <span>MPV æ’­æ”¾ (å¼¹å¹•URLåŠ è½½ä¸­...)</span>;
+      case 'ready':
+        return <span>MPV æ’­æ”¾ âœ“</span>;
+      case 'error':
+        return <span>MPV æ’­æ”¾ (æ— å¼¹å¹•)</span>;
+      default:
+        return <span>MPV æ’­æ”¾</span>;
+    }
+  };
+
+  return (
+    <button
+      onClick={handleMPVPlay}
+      disabled={danmakuUrlsStatus === 'loading'}
+      className="ml-4 flex-shrink-0 hover:opacity-90 transition-all duration-200 hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed"
+      title={getButtonTitle()}
+    >
+      <div className="flex items-center gap-1.5 bg-blue-200 hover:bg-blue-400 dark:bg-blue-600 dark:hover:bg-blue-800 text-gray-600 dark:text-gray-300 px-3 py-1.5 rounded-full text-sm font-semibold shadow-md">
+        {getButtonText()}
+      </div>
+    </button>
+  );
+}
